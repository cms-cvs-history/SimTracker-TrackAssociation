process ana = {
    
    source = PoolSource {
	untracked vstring fileNames = {'file:reco.root'}
	##	untracked vstring fileNames = {'file:producer_50.root'}
	##	untracked vstring fileNames = {'file:simctfwithmat_csa.root'}
	untracked int32 maxEvents = 2
	
    }
    
    #Geometry
    #
    include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"
    es_module = TrackerGeometricDetESModule {}
    
    #Magnetic Field
    #
    include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
    es_module = TrackerDigiGeometryESModule {}
    
    include "SimGeneral/TrackingAnalysis/data/trackingtruth.cfi"
    replace trackingtruth.HepMCDataLabels = {"source"}
    
    es_module = TrackAssociatorByChi2ESProducer {
	double chi2cut = 10
    }
    es_module = TrackAssociatorByHitsESProducer {
	bool associateStrip = true
	bool associatePixel = true
	vstring ROUList = {
	    #For running only strip or pixel comment out the appropriate strings
	    #TIB
	    "TrackerHitsTIBLowTof","TrackerHitsTIBHighTof",
	    #TID
	    "TrackerHitsTIDLowTof","TrackerHitsTIDHighTof",
	    #TOB
	    "TrackerHitsTOBLowTof","TrackerHitsTOBHighTof",
	    #TEC
	    "TrackerHitsTECLowTof","TrackerHitsTECHighTof",
	    #BPIX
	    "TrackerHitsPixelBarrelLowTof","TrackerHitsPixelBarrelHighTof",
	    #FPIX
	    "TrackerHitsPixelEndcapLowTof","TrackerHitsPixelEndcapHighTof"}
	
    }
    
    module testanalyzer = testTrackAssociator{}
    
    module Out = PoolOutputModule
    {
	untracked string fileName = "out.root"
    }
    
    path p = {
	trackingtruth, 
	testanalyzer
    }
    
    endpath e =
    {
	Out
    }
}
